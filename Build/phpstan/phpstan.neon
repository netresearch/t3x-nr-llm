# PHPStan Configuration - TYPO3 LLM Extension
# Based on TYPO3 Best Practices: https://github.com/TYPO3BestPractices/tea
#
# This configuration enforces:
# - Level 10 maximum analysis (strictest type checking)
# - PHP 8.5 compatibility
#
# Level 10 enforces complete type safety for all mixed types.
# Baseline ignores specific patterns that cannot be typed (TYPO3 globals, etc.)

includes:
  - phpstan-baseline.neon

parameters:
  # PHP 8.5 (TYPO3 v14 minimum)
  phpVersion: 80500

  # Parallel execution (optimize for your CI environment)
  parallel:
    maximumNumberOfProcesses: 5

  # Analysis level (0-10, higher is stricter)
  # Level 10 is maximum strictness - full type safety enforcement
  level: 10

  # Paths to analyze
  paths:
    - ../../Classes
    - ../../Configuration
    - ../../Tests
    - ../../ext_localconf.php

  # reportUnmatchedIgnoredErrors: false is needed when using baselines
  reportUnmatchedIgnoredErrors: false
