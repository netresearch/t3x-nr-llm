<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:be="http://typo3.org/ns/TYPO3/CMS/Backend/ViewHelpers"
      xmlns:core="http://typo3.org/ns/TYPO3/CMS/Core/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:layout name="Module" />

<f:section name="Content">
    <h1>
        <f:translate key="LLL:EXT:nr_llm/Resources/Private/Language/locallang.xlf:module.title" />
    </h1>

    <!-- Quick Start Wizard Banner -->
    <div class="callout callout-info mb-4">
        <div class="d-flex align-items-center">
            <div class="me-3">
                <core:icon identifier="module-nrllm-wizard" size="large" />
            </div>
            <div class="flex-grow-1">
                <h4 class="callout-title mb-1">New to LLM Integration?</h4>
                <p class="mb-0">Use the <strong>Setup Wizard</strong> to auto-configure your provider, discover models, and generate configuration presets.</p>
            </div>
            <div class="ms-3">
                <a href="{be:moduleLink(route:'nrllm_wizard')}" class="btn btn-primary">
                    <core:icon identifier="actions-bolt" size="small" />
                    Start Setup Wizard
                </a>
            </div>
        </div>
    </div>

    <h2>LLM Management</h2>

    <section class="card-container">
        <div class="card card-size-small">
            <div class="card-header">
                <div class="card-icon">
                    <core:icon identifier="module-nrllm-provider" size="large" />
                </div>
                <div class="card-header-body">
                    <h4 class="card-title">API Providers</h4>
                    <span class="card-subtitle">Manage API connections</span>
                </div>
            </div>
            <div class="card-body">
                <p class="card-text">Configure endpoints, API keys, and timeouts for LLM services.</p>
            </div>
            <div class="card-footer">
                <a href="{be:moduleLink(route:'nrllm_providers')}" class="btn btn-default">
                    Manage Providers
                </a>
            </div>
        </div>
        <div class="card card-size-small">
            <div class="card-header">
                <div class="card-icon">
                    <core:icon identifier="module-nrllm-model" size="large" />
                </div>
                <div class="card-header-body">
                    <h4 class="card-title">LLM Models</h4>
                    <span class="card-subtitle">Define available models</span>
                </div>
            </div>
            <div class="card-body">
                <p class="card-text">Configure model definitions, capabilities, and pricing per provider.</p>
            </div>
            <div class="card-footer">
                <a href="{be:moduleLink(route:'nrllm_models')}" class="btn btn-default">
                    Manage Models
                </a>
            </div>
        </div>
        <div class="card card-size-small">
            <div class="card-header">
                <div class="card-icon">
                    <core:icon identifier="module-nrllm" size="large" />
                </div>
                <div class="card-header-body">
                    <h4 class="card-title">Configurations</h4>
                    <span class="card-subtitle">Use-case specific presets</span>
                </div>
            </div>
            <div class="card-body">
                <p class="card-text">Create named configurations with prompts, parameters, and limits.</p>
            </div>
            <div class="card-footer">
                <a href="{be:moduleLink(route:'nrllm_configurations')}" class="btn btn-default">
                    Manage Configurations
                </a>
            </div>
        </div>
    </section>

    <div class="card mt-4">
        <div class="card-header">
            <h3 class="card-title">Quick Reference</h3>
        </div>
        <div class="card-body">
            <h4>Usage in PHP</h4>
            <pre><code>use Netresearch\NrLlm\Service\LlmServiceManager;

// Inject via constructor
public function __construct(
    private readonly LlmServiceManager $llmManager,
) {}

// Simple completion
$response = $this->llmManager->complete('Your prompt here');
echo $response->content;

// Chat with messages
$response = $this->llmManager->chat([
    ['role' => 'system', 'content' => 'You are a helpful assistant.'],
    ['role' => 'user', 'content' => 'Hello!'],
]);

// Use database-backed configuration
$response = $this->llmManager->chatWithConfiguration($messages, $configuration);</code></pre>
        </div>
    </div>
</f:section>

</html>
