# DDEV configuration for nr_llm TYPO3 extension development
# https://ddev.readthedocs.io/en/stable/users/configuration/config/

name: nr-llm
type: typo3

# PHP 8.5 for TYPO3 v14
php_version: "8.5"

# MariaDB 11.4 (recommended for TYPO3 v14)
database:
  type: mariadb
  version: "11.4"

# Web server
webserver_type: apache-fpm

# Performance settings
router_http_port: "80"
router_https_port: "443"
nodejs_version: "20"

# Composer settings
composer_version: "2"
composer_root: /var/www/html

# Additional hostnames for multi-version testing
additional_hostnames:
  - v14

# Timezone
timezone: Europe/Berlin

# Working directory inside container
working_dir:
  web: /var/www/html

# Disable default TYPO3 configuration
disable_settings_management: false

# Upload directory settings
upload_dirs:
  - fileadmin
  - uploads

# Web environment
web_environment:
  - TYPO3_CONTEXT=Development
  - XDEBUG_MODE=debug,develop
  - COMPOSER_PROCESS_TIMEOUT=600

# Hooks
hooks:
  post-start:
    - exec: composer install --no-interaction --prefer-dist || true

# XDebug settings
xdebug_enabled: false
